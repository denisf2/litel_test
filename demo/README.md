У меня есть некоторое непонимание какой тип S1apOut на какой Event возвращать.
Оставил на свое усмотрение.